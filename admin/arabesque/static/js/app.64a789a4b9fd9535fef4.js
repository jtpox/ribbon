webpackJsonp([1],{0:function(t,e){},"1/oy":function(t,e){},"4W6u":function(t,e){},Id91:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("/5sW"),i=s("NYxO"),n=s("e6fC"),r=s("PJh5"),o=s.n(r),l=s("mtWM"),c=s.n(l),d=s("Rf8U"),u=s.n(d),m=s("1EpQ"),v=s.n(m),g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var p=s("VU/8")({name:"App",data:function(){return{}},computed:{isAuthenticated:function(){return this.$store.state.isAuthenticated},currentUser:function(){return this.$store.state.currentUser}}},g,!1,function(t){s("yVrO"),s("jwHL")},null,null).exports,h=s("/ocq");a.a.use(i.a);var f=new i.a.Store({state:{isAuthenticated:!!localStorage.getItem("user"),currentUser:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{},selectedImage:null},mutations:{setAuth:function(t){t.isAuthenticated=!0},unAuth:function(t){t.isAuthenticated=!1},setCurrentUser:function(t,e){t.currentUser=e,a.a.axios.defaults.headers.common.session_id=e.session_id,a.a.axios.defaults.headers.common.session_token=e.session_token},unSetCurrentUser:function(t){localStorage.removeItem("user"),t.currentUser={},delete a.a.axios.defaults.headers.common.session_id,delete a.a.axios.defaults.headers.common.session_token},selectImage:function(t,e){t.selectedImage=e},clearSelectedImage:function(t){t.selectedImage=null}}}),_=s("mvHQ"),b=s.n(_),C={name:"Index",data:function(){return{email:null,password:null,error:null}},methods:{login:function(){var t=this,e=this.email,s=this.password;this.axios.post(this.api+"/auth",{email:e,password:s}).then(function(e){if(1==e.data.error)t.error=!0,t.$store.commit("unAuth"),t.$store.commit("unSetCurrentUser");else{var s={session_id:e.data.session_id,session_token:e.data.session_token,username:e.data.username,user_id:e.data.user_id};localStorage.setItem("user",b()(s)),t.$store.commit("setAuth"),t.$store.commit("setCurrentUser",s),t.$router.push("/posts")}}).catch(function(e){console.log(e),t.error=!0})}}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4 offset-md-4"},[s("h1",{staticClass:"diavlo text-center"},[t._v("ribbon")]),t._v(" "),s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"alert alert-danger"},[t._v("\n                      Error authenticating.\n                    ")]),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",name:"email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),t._m(0)])])]),t._v(" "),t._m(1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit",name:"login"}},[this._v("Log In")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"footer text-center text-muted"},[e("small",[e("a",{attrs:{href:"https://github.com/jtpox/arabesque",target:"_blank"}},[this._v("arabesque")]),this._v(" for "),e("a",{attrs:{href:"https://github.com/jtpox/ribbon",target:"_blank"}},[this._v("ribbon")])])])}]},x=s("VU/8")(C,w,!1,null,null,null).exports,y={name:"Navigation",data:function(){return{mainNavCollapse:!0}},computed:{currentUser:function(){return this.$store.state.currentUser}},methods:{logOut:function(){var t=this;this.axios.post(this.api+"/auth/logout",{session_id:this.$store.state.currentUser.session_id}).then(function(e){t.$store.commit("unAuth"),t.$store.commit("unSetCurrentUser"),t.$router.push("/")}).catch(function(t){alert(t)})}}},j={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-2 main-nav"},[s("div",{staticClass:"logo"},[s("div",{staticClass:"d-md-none d-lg-none d-xl-none"},[s("span",{staticClass:"float-left diavlo"},[t._v("ribbon")]),t._v(" "),s("span",{staticClass:"float-right"},[s("a",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"main-nav",expression:"'main-nav'"}]},[s("i",{staticClass:"fas fa-bars"})])])]),t._v(" "),s("h1",{staticClass:"d-none d-md-block diavlo"},[t._v("ribbon")]),t._v(" "),s("p",{staticClass:"d-none d-md-block lead"},[t._v(t._s(t.currentUser.username))])]),t._v(" "),s("b-collapse",{staticClass:"vert-nav collapse",attrs:{id:"main-nav"},model:{value:t.mainNavCollapse,callback:function(e){t.mainNavCollapse=e},expression:"mainNavCollapse"}},[s("ul",[s("li",[s("router-link",{attrs:{to:{name:"About"},"active-class":"current"}},[s("span",{staticClass:"badge badge-light"},[s("i",{staticClass:"far fa-address-card"})]),t._v(" About Me")])],1),t._v(" "),s("li",{on:{click:function(e){e.preventDefault(),t.logOut()}}},[s("a",{attrs:{href:""}},[s("span",{staticClass:"badge badge-light"},[s("i",{staticClass:"fas fa-sign-out-alt"})]),t._v(" Log Out")])])]),t._v(" "),s("div",{staticClass:"heading"},[t._v("Blog")]),t._v(" "),s("ul",[s("li",[s("router-link",{attrs:{to:{name:"Posts"},"active-class":"current"}},[s("span",{staticClass:"badge badge-light"},[s("i",{staticClass:"far fa-list-alt"})]),t._v(" Posts")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:{name:"NewPost"},"active-class":"current"}},[s("span",{staticClass:"badge badge-light"},[s("i",{staticClass:"fas fa-pencil-alt"})]),t._v(" New Post")])],1)]),t._v(" "),s("div",{staticClass:"heading"},[t._v("Content")]),t._v(" "),s("ul",[s("li",[s("router-link",{attrs:{to:{name:"Users"},"active-class":"current"}},[s("span",{staticClass:"badge badge-light"},[s("i",{staticClass:"fas fa-users"})]),t._v(" Users")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:{name:"Tags"},"active-class":"current"}},[s("span",{staticClass:"badge badge-light"},[s("i",{staticClass:"fas fa-tags"})]),t._v(" Tags")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:{name:"Pages"},"active-class":"current"}},[s("span",{staticClass:"badge badge-light"},[s("i",{staticClass:"fas fa-book"})]),t._v(" Pages")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:{name:"Images"},"active-class":"current"}},[s("span",{staticClass:"badge badge-light"},[s("i",{staticClass:"far fa-images"})]),t._v(" Images")])],1)])])],1)},staticRenderFns:[]},k=s("VU/8")(y,j,!1,null,null,null).exports,N={name:"About",components:{Navigation:k},created:function(){this.getDetails()},data:function(){return{about_me:null,alerts:{success:!1,error:!1}}},methods:{getDetails:function(){var t=this;this.axios.post(this.api+"/auth/details").then(function(e){t.about_me=e.data[0].about}).catch(function(t){console.log(t)})},update:function(){var t=this;this.alerts.success=!1,this.alerts.error=!1,this.axios.post(this.api+"/auth/update/about",{about:this.about_me}).then(function(e){0==e.data.error?t.alerts.success=!0:t.alers.error=!0}).catch(function(t){console.log(t)})}}},I={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row no-gutters wrapper"},[s("Navigation"),t._v(" "),s("div",{staticClass:"col-md-10 main-content"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8 offset-md-2"},[t._m(0),t._v(" "),s("form",{on:{submit:function(e){e.preventDefault(),t.update()}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.alerts.success,expression:"alerts.success"}],staticClass:"alert alert-success text-center"},[s("i",{staticClass:"far fa-thumbs-up"})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.alerts.error,expression:"alerts.error"}],staticClass:"alert alert-danger text-center"},[t._v("Error updating.")]),t._v(" "),s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.about_me,expression:"about_me"}],staticClass:"form-control",attrs:{placeholder:"Describe yourself."},domProps:{value:t.about_me},on:{input:function(e){e.target.composing||(t.about_me=e.target.value)}}})]),t._v(" "),t._m(1)])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-header"},[e("h1",[this._v("About Me")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("Update")])])}]},P=s("VU/8")(N,I,!1,null,null,null).exports,$={name:"ListPosts",components:{Navigation:k},created:function(){this.getPosts()},data:function(){return{posts:[]}},methods:{getPosts:function(){var t=this;this.axios.get(this.api+"/blog").then(function(e){t.posts=e.data}).catch(function(t){console.log(t)})}}},E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row no-gutters wrapper"},[s("Navigation"),t._v(" "),s("div",{staticClass:"col-md-10 main-content"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8 offset-md-2"},[s("div",{staticClass:"page-header"},[s("h1",[t._v("Posts "),s("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{to:{name:"NewPost"}}},[t._v("New Post")])],1)]),t._v(" "),s("div",{staticClass:"list-group list-group-flush"},t._l(t.posts,function(e){return s("router-link",{key:e._id,staticClass:"list-group-item",attrs:{to:{name:"EditPost",params:{id:e._id}}}},[s("div",{staticClass:"justify-content-between"},[s("h5",{staticClass:"mb-1"},[t._v(t._s(e.title))])]),t._v(" "),s("small",[t._v("By "+t._s(e.created_by.username)+" - "+t._s(t._f("formatDate")(e.created_at)))])])}))])])])])],1)},staticRenderFns:[]},U=s("VU/8")($,E,!1,null,null,null).exports,S={name:"ImagesWidget",data:function(){return{images:[]}},created:function(){this.getImages()},methods:{getImages:function(){var t=this;this.axios.get(this.api+"/images").then(function(e){t.images=e.data}).catch(function(t){console.log(t)})},selectImage:function(t){null==t?this.$store.commit("clearSelectedImage"):this.$store.commit("selectImage",this.images[t]),this.$refs.imagesWidget.hide()}}},z={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{ref:"imagesWidget",attrs:{"hide-footer":"",size:"lg",id:"imagesWidget",title:"Select Image"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-3"},[s("button",{staticClass:"btn btn-default btn-lg btn-block",attrs:{type:"button"},on:{click:function(e){t.selectImage(null)}}},[t._v("None")])]),t._v(" "),t._l(t.images,function(e,a){return s("div",{key:e._id,staticClass:"col-md-3"},[s("img",{staticClass:"img-fluid rounded border",attrs:{src:"/uploads/images/"+e.file_name},on:{click:function(e){t.selectImage(a)}}})])})],2)])},staticRenderFns:[]},D=s("VU/8")(S,z,!1,null,null,null).exports,F=s("5x2J"),T=s.n(F),A=s("EFqf"),O=s.n(A),L={name:"markdown-editor",props:{value:String,previewClass:String,autoinit:{type:Boolean,default:function(){return!0}},highlight:{type:Boolean,default:function(){return!1}},sanitize:{type:Boolean,default:function(){return!1}},configs:{type:Object,default:function(){return{}}}},mounted:function(){this.autoinit&&this.initialize()},activated:function(){var t=this.simplemde;t&&((t.isSideBySideActive()||t.isPreviewActive())&&t.toggleFullScreen())},methods:{initialize:function(){var t=Object.assign({element:this.$el.firstElementChild,initialValue:this.value,renderingConfig:{}},this.configs);t.initialValue&&this.$emit("input",t.initialValue),this.highlight&&(t.renderingConfig.codeSyntaxHighlighting=!0),O.a.setOptions({sanitize:this.sanitize}),this.simplemde=new T.a(t);var e=this.previewClass||"";this.addPreviewClass(e),this.bindingEvents()},bindingEvents:function(){var t=this;this.simplemde.codemirror.on("change",function(){t.$emit("input",t.simplemde.value())})},addPreviewClass:function(t){var e=this.simplemde.codemirror.getWrapperElement(),s=document.createElement("div");e.nextSibling.className+=" "+t,s.className="editor-preview "+t,e.appendChild(s)}},destroyed:function(){this.simplemde=null},watch:{value:function(t){t!==this.simplemde.value()&&this.simplemde.value(t)}}},W={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"markdown-editor"},[e("textarea")])}]};var V=s("VU/8")(L,W,!1,function(t){s("4W6u")},null,null).exports,R={name:"NewPost",components:{Navigation:k,ImagesWidget:D,markdownEditor:V},created:function(){this.getTags()},data:function(){return{tags:[],title:null,content:null,selected_tag:null,schedule:new Date,hidden:!1}},computed:{selectedImage:function(){return this.$store.state.selectedImage}},methods:{getTags:function(){var t=this;this.axios.get(this.api+"/tags").then(function(e){t.tags=e.data}).catch(function(t){console.log(t)})},post:function(){var t=this,e={title:this.title,content:this.content,tag:this.selected_tag,image:null==this.$store.state.selectedImage?null:this.$store.state.selectedImage._id,schedule:this.schedule,hidden:this.hidden};this.axios.post(this.api+"/blog",e).then(function(e){0==e.data.error&&(t.$store.commit("clearSelectedImage"),t.$router.push("/edit/post/"+e.data.post_id))}).catch(function(t){console.log(t)})}}},B={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row no-gutters wrapper"},[s("Navigation"),t._v(" "),s("div",{staticClass:"col-md-10 main-content"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10"},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control form-control-lg merriweather",attrs:{type:"text",placeholder:"Title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("markdown-editor",{model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)]),t._v(" "),s("div",{staticClass:"col-md-2"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("p",{staticClass:"card-text"},[s("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:function(e){t.post()}}},[t._v("Post")])])])]),t._v(" "),s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h4",{staticClass:"card-title"},[t._v("Tag")]),t._v(" "),s("p",{staticClass:"card-text"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_tag,expression:"selected_tag"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected_tag=e.target.multiple?s:s[0]}}},t._l(t.tags,function(e){return s("option",{key:e._id,domProps:{value:e._id}},[t._v(t._s(e.title))])}))])])]),t._v(" "),s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h4",{staticClass:"card-title"},[t._v("Schedule")]),t._v(" "),s("p",{staticClass:"card-text"},[s("input",{staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.schedule&&t.schedule.toISOString().split("T")[0]}})])])]),t._v(" "),s("div",{staticClass:"card"},[null!==t.selectedImage?s("span",[s("img",{staticClass:"card-img-top img-fluid",attrs:{src:"/uploads/images/"+t.selectedImage.file_name,alt:"Selected Image"}})]):t._e(),t._v(" "),s("div",{staticClass:"card-body"},[s("h4",{staticClass:"card-title"},[t._v("Image")]),t._v(" "),s("p",{staticClass:"card-text"},[s("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"imagesWidget",expression:"'imagesWidget'"}],staticClass:"btn-block"},[t._v("Select Image")])],1)])]),t._v(" "),s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h4",{staticClass:"card-title"},[t._v("Options")]),t._v(" "),s("p",{staticClass:"card-text"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.hidden,expression:"hidden"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.hidden)?t._i(t.hidden,null)>-1:t.hidden},on:{change:function(e){var s=t.hidden,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.hidden=s.concat([null])):n>-1&&(t.hidden=s.slice(0,n).concat(s.slice(n+1)))}else t.hidden=i}}}),t._v(" Hidden Post\n                                ")])])])])])])])]),t._v(" "),s("ImagesWidget")],1)},staticRenderFns:[]},q=s("VU/8")(R,B,!1,null,null,null).exports,H={name:"EditPost",components:{Navigation:k,ImagesWidget:D,markdownEditor:V},created:function(){this.getTags(),this.getPost()},data:function(){return{tags:[],title:null,content:null,selected_tag:null,schedule:new Date,hidden:!1,success:!1,error:!1}},computed:{selectedImage:function(){return this.$store.state.selectedImage}},methods:{getTags:function(){var t=this;this.axios.get(this.api+"/tags").then(function(e){t.tags=e.data}).catch(function(t){console.log(t)})},getPost:function(){var t=this;this.axios.get(this.api+"/blog/"+this.$route.params.id).then(function(e){t.title=e.data[0].title,t.content=e.data[0].content,t.selected_tag=e.data[0].tag._id,t.schedule=new Date(e.data[0].created_at),t.hidden=e.data[0].hidden,t.$store.commit("selectImage",e.data[0].image?e.data[0].image:null)}).catch(function(t){console.log(t)})},update:function(){var t=this;this.error=!1,this.success=!1;var e={title:this.title,content:this.content,tag:this.selected_tag,image:null==this.$store.state.selectedImage?null:this.$store.state.selectedImage._id,schedule:this.schedule,hidden:this.hidden};this.axios.put(this.api+"/blog/"+this.$route.params.id,e).then(function(e){0==e.data.error?t.success=!0:t.error=!0}).catch(function(t){console.log(t)})},delete_post:function(){var t=this;this.axios.post(this.api+"/blog/delete/"+this.$route.paramd.is).then(function(e){0==e.data.error&&t.$router.push("/posts")}).catch(function(t){console.log(t)})}}},M={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row no-gutters wrapper"},[s("Navigation"),t._v(" "),s("div",{staticClass:"col-md-10 main-content"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10"},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control form-control-lg merriweather",attrs:{type:"text",placeholder:"Title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("markdown-editor",{model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)]),t._v(" "),s("div",{staticClass:"col-md-2"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.success,expression:"success"}],staticClass:"alert alert-success text-center"},[s("i",{staticClass:"far fa-thumbs-up"})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"alert alert-danger text-center"},[t._v("Error updating.")]),t._v(" "),s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("p",{staticClass:"card-text"},[s("button",{staticClass:"btn btn-success btn-lg btn-block",attrs:{type:"button"},on:{click:function(e){t.update()}}},[t._v("Update")])])])]),t._v(" "),s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h4",{staticClass:"card-title"},[t._v("Tag")]),t._v(" "),s("p",{staticClass:"card-text"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_tag,expression:"selected_tag"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected_tag=e.target.multiple?s:s[0]}}},t._l(t.tags,function(e){return s("option",{key:e._id,domProps:{value:e._id}},[t._v(t._s(e.title))])}))])])]),t._v(" "),s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h4",{staticClass:"card-title"},[t._v("Schedule")]),t._v(" "),s("p",{staticClass:"card-text"},[s("input",{staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.schedule&&t.schedule.toISOString().split("T")[0]}})])])]),t._v(" "),s("div",{staticClass:"card"},[null!==t.selectedImage?s("span",[s("img",{staticClass:"card-img-top img-fluid",attrs:{src:"/uploads/images/"+t.selectedImage.file_name,alt:"Selected Image"}})]):t._e(),t._v(" "),s("div",{staticClass:"card-body"},[s("h4",{staticClass:"card-title"},[t._v("Image")]),t._v(" "),s("p",{staticClass:"card-text"},[s("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"imagesWidget",expression:"'imagesWidget'"}],staticClass:"btn-block"},[t._v("Select Image")])],1)])]),t._v(" "),s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h4",{staticClass:"card-title"},[t._v("Options")]),t._v(" "),s("p",{staticClass:"card-text"}),s("div",{staticClass:"form-group"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.hidden,expression:"hidden"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.hidden)?t._i(t.hidden,null)>-1:t.hidden},on:{change:function(e){var s=t.hidden,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.hidden=s.concat([null])):n>-1&&(t.hidden=s.slice(0,n).concat(s.slice(n+1)))}else t.hidden=i}}}),t._v(" Hidden Post\n                                    ")])]),t._v(" "),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-danger btn-block",attrs:{type:"button"},on:{click:function(e){t.delete_post()}}},[t._v("Delete Post")])]),t._v(" "),s("p")])])])])])]),t._v(" "),s("ImagesWidget")],1)},staticRenderFns:[]},X=s("VU/8")(H,M,!1,null,null,null).exports,J={name:"ListPages",components:{Navigation:k},created:function(){this.getPages()},data:function(){return{pages:[]}},methods:{getPages:function(){var t=this;this.axios.get(this.api+"/pages/admin").then(function(e){t.pages=e.data}).catch(function(t){console.log(t)})}}},Y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row no-gutters wrapper"},[s("Navigation"),t._v(" "),s("div",{staticClass:"col-md-10 main-content"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8 offset-md-2"},[s("div",{staticClass:"page-header"},[s("h1",[t._v("Pages "),s("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{to:{name:"NewPage"}}},[t._v("New Page")])],1)]),t._v(" "),s("div",{staticClass:"list-group list-group-flush"},t._l(t.pages,function(e){return s("router-link",{key:e._id,staticClass:"list-group-item",attrs:{to:{name:"EditPage",params:{id:e._id}}}},[s("div",{staticClass:"justify-content-between"},[s("h5",{staticClass:"mb-1"},[t._v(t._s(e.title))])]),t._v(" "),s("small",[t._v("Status: "),s("i",{staticClass:"fas",class:{"fa-eye":!e.hidden,"fa-eye-slash":e.hidden}})])])}))])])])])],1)},staticRenderFns:[]},Q=s("VU/8")(J,Y,!1,null,null,null).exports,G=s("DAYN"),K=s.n(G),Z={name:"NewPage",components:{Navigation:k,ImagesWidget:D,markdownEditor:V,draggable:K.a},computed:{selectedImage:function(){return this.$store.state.selectedImage}},data:function(){return{page:{title:null,content:null,hidden:!1,boxes:[{title:"Example",content:"Content example.",content_column:3},{title:"Example 2",content:"Second content example",content_column:3}]}}},methods:{removeBox:function(t){this.page.boxes.splice(t,1)},addBox:function(){this.page.boxes.push({title:null,content:null,content_column:3})},publish:function(){var t=this,e={title:this.page.title,content:this.page.content,hidden:this.page.hidden,image:null==this.$store.state.selectedImage?null:this.$store.state.selectedImage._id,boxes:b()(this.page.boxes)};this.axios.post(this.api+"/pages",e).then(function(e){0==e.data.error&&(t.$store.commit("clearSelectedImage"),t.$router.push("/edit/page/"+e.data.page_id))}).catch(function(t){console.log(t)})}}},tt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row no-gutters wrapper"},[s("Navigation"),t._v(" "),s("div",{staticClass:"col-md-10 main-content"},[s("div",{staticClass:"container-fluid"},[s("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light page-toolbar"},[s("div",{staticClass:"container-fluid"},[s("span",[s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.addBox()}}},[t._v("Add Content Box")]),t._v(" "),s("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"imagesWidget",expression:"'imagesWidget'"}]},[t._v("Select Image")])],1),t._v(" "),s("span",[s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.page.hidden=!t.page.hidden}}},[s("i",{staticClass:"fas",class:{"fa-eye":!t.page.hidden,"fa-eye-slash":t.page.hidden}}),t._v(" Page "+t._s(t.page.hidden?"Hidden":"Viewable")+"\n                        ")]),t._v(" "),s("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.publish()}}},[t._v("Publish")])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{class:{"col-md-12":!t.selectedImage,"col-md-9":t.selectedImage}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.page.title,expression:"page.title"}],staticClass:"form-control form-control-lg merriweather",attrs:{type:"text",placeholder:"Title"},domProps:{value:t.page.title},on:{input:function(e){e.target.composing||t.$set(t.page,"title",e.target.value)}}})])]),t._v(" "),t.selectedImage?s("div",{staticClass:"col-md-3"},[s("div",{staticClass:"card"},[s("img",{staticClass:"card-img-top img-fluid",attrs:{src:"/uploads/images/"+t.selectedImage.file_name,alt:"Selected Image"}})])]):t._e(),t._v(" "),s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group"},[s("markdown-editor",{model:{value:t.page.content,callback:function(e){t.$set(t.page,"content",e)},expression:"page.content"}})],1)])]),t._v(" "),s("draggable",{staticClass:"row",model:{value:t.page.boxes,callback:function(e){t.$set(t.page,"boxes",e)},expression:"page.boxes"}},t._l(t.page.boxes,function(e,a){return s("div",{key:a,class:"col-md-"+e.content_column},[s("div",{staticClass:"card movable"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"input-group mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"box.title"}],staticClass:"form-control merriweather",attrs:{type:"text",placeholder:"Title"},domProps:{value:e.title},on:{input:function(s){s.target.composing||t.$set(e,"title",s.target.value)}}}),t._v(" "),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.removeBox(a)}}},[s("i",{staticClass:"far fa-trash-alt"})])])]),t._v(" "),s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"box.content"}],staticClass:"form-control merriweather",attrs:{placeholder:"Content"},domProps:{value:e.content},on:{input:function(s){s.target.composing||t.$set(e,"content",s.target.value)}}}),t._v(" "),s("small",[t._v("Markdown is enabled.")])]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.content_column,expression:"box.content_column"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.content_column},on:{input:function(s){s.target.composing||t.$set(e,"content_column",s.target.value)}}})])])])])})),t._v(" "),s("ImagesWidget")],1)])],1)},staticRenderFns:[]},et=s("VU/8")(Z,tt,!1,null,null,null).exports,st={name:"EditPage",components:{Navigation:k,ImagesWidget:D,markdownEditor:V,draggable:K.a},created:function(){this.getPage()},computed:{selectedImage:function(){return this.$store.state.selectedImage}},data:function(){return{page:{title:null,content:null,hidden:!1,boxes:[]},alerts:{success:!1}}},methods:{getPage:function(){var t=this;this.axios.get(this.api+"/pages/"+this.$route.params.id).then(function(e){t.page.title=e.data.details.title,t.page.content=e.data.details.description,t.page.hidden=e.data.details.hidden,t.page.boxes=e.data.boxes,t.$store.commit("selectImage",e.data.details.image?e.data.details.image:null)}).catch(function(t){console.log(t)})},removeBox:function(t){this.page.boxes.splice(t,1)},addBox:function(){this.page.boxes.push({title:null,content:null,content_column:3})},update:function(){var t=this;this.alerts.success=!1;var e={title:this.page.title,content:this.page.content,hidden:this.page.hidden,image:null==this.$store.state.selectedImage?null:this.$store.state.selectedImage._id,boxes:b()(this.page.boxes)};this.axios.put(this.api+"/pages/"+this.$route.params.id,e).then(function(e){0==e.data.error&&(t.alerts.success=!0)}).catch(function(t){console.log(t)})}}},at={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row no-gutters wrapper"},[s("Navigation"),t._v(" "),s("div",{staticClass:"col-md-10 main-content"},[s("div",{staticClass:"container-fluid"},[s("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light page-toolbar"},[s("div",{staticClass:"container-fluid"},[s("span",[s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.addBox()}}},[t._v("Add Content Box")]),t._v(" "),s("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"imagesWidget",expression:"'imagesWidget'"}]},[t._v("Select Image")])],1),t._v(" "),s("span",[s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.page.hidden=!t.page.hidden}}},[s("i",{staticClass:"fas",class:{"fa-eye":!t.page.hidden,"fa-eye-slash":t.page.hidden}}),t._v(" Page "+t._s(t.page.hidden?"Hidden":"Viewable")+"\n                        ")]),t._v(" "),s("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.update()}}},[s("i",{directives:[{name:"show",rawName:"v-show",value:t.alerts.success,expression:"alerts.success"}],staticClass:"far fa-thumbs-up"}),t._v(" Update")])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{class:{"col-md-12":!t.selectedImage,"col-md-9":t.selectedImage}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.page.title,expression:"page.title"}],staticClass:"form-control form-control-lg merriweather",attrs:{type:"text",placeholder:"Title"},domProps:{value:t.page.title},on:{input:function(e){e.target.composing||t.$set(t.page,"title",e.target.value)}}})])]),t._v(" "),t.selectedImage?s("div",{staticClass:"col-md-3"},[s("div",{staticClass:"card"},[s("img",{staticClass:"card-img-top img-fluid",attrs:{src:"/uploads/images/"+t.selectedImage.file_name,alt:"Selected Image"}})])]):t._e(),t._v(" "),s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group"},[s("markdown-editor",{model:{value:t.page.content,callback:function(e){t.$set(t.page,"content",e)},expression:"page.content"}})],1)])]),t._v(" "),s("draggable",{staticClass:"row",model:{value:t.page.boxes,callback:function(e){t.$set(t.page,"boxes",e)},expression:"page.boxes"}},t._l(t.page.boxes,function(e,a){return s("div",{key:a,class:"col-md-"+e.content_column},[s("div",{staticClass:"card movable"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"input-group mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"box.title"}],staticClass:"form-control merriweather",attrs:{type:"text",placeholder:"Title"},domProps:{value:e.title},on:{input:function(s){s.target.composing||t.$set(e,"title",s.target.value)}}}),t._v(" "),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.removeBox(a)}}},[s("i",{staticClass:"far fa-trash-alt"})])])]),t._v(" "),s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"box.content"}],staticClass:"form-control merriweather",attrs:{placeholder:"Content"},domProps:{value:e.content},on:{input:function(s){s.target.composing||t.$set(e,"content",s.target.value)}}}),t._v(" "),s("small",[t._v("Markdown is enabled.")])]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.content_column,expression:"box.content_column"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.content_column},on:{input:function(s){s.target.composing||t.$set(e,"content_column",s.target.value)}}})])])])])})),t._v(" "),s("ImagesWidget")],1)])],1)},staticRenderFns:[]},it=s("VU/8")(st,at,!1,null,null,null).exports,nt={name:"UsersList",components:{Navigation:k},created:function(){this.getUsers()},data:function(){return{users:[],selected_user:null,selected_index:null,new_user:{username:null,password:null,email:null},alerts:{edit:{success:!1,error:!1},new:{success:!1,error:!1}}}},methods:{getUsers:function(){var t=this;this.axios.get(this.api+"/users").then(function(e){t.users=e.data}).catch(function(t){console.log(t)})},selectUser:function(t){this.selected_user=this.users[t],this.selected_index=t},create_user:function(){var t=this;this.alerts.new.success=!1,this.alerts.new.error=!1,this.axios.post(this.api+"/users",this.new_user).then(function(e){0==e.data.error?(t.alerts.new.success=!0,t.users.push(e.data.user)):t.alerts.new.error=!0}).catch(function(t){console.log(t)})},edit_user:function(){var t=this;this.alerts.edit.success=!1,this.alerts.edit.error=!1,this.axios.put(this.api+"/users/"+this.selected_user._id,{username:this.selected_user.username,password:this.selected_user.password?this.selected_user.password:null,email:this.selected_user.email}).then(function(e){0==e.data.error?(t.alerts.edit.success=!0,t.users[t.selected_index].username=t.selected_user.username):t.alerts.edit.error=!0}).catch(function(t){console.log(t)})},delete_user:function(){var t=this;this.axios.post(this.api+"/users/delete/"+this.selected_user._id).then(function(e){0==e.data.error&&(t.users.splice(t.selected_index,1),t.$store.state.currentUser.user_id==t.selected_user._id&&(t.$store.commit("unAuth"),t.$store.commit("unSetCurrentUser"),t.$router.push("/")),t.selected_user=null,t.selected_index=null)}).catch(function(t){console.log(t)})}}},rt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row no-gutters wrapper"},[s("Navigation"),t._v(" "),s("div",{staticClass:"col-md-10 main-content"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-9"},[t._m(0),t._v(" "),s("div",{staticClass:"list-group list-group-flush"},t._l(t.users,function(e,a){return s("a",{staticClass:"list-group-item",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.selectUser(a)}}},[s("div",{staticClass:"justify-content-between"},[s("h5",{staticClass:"mb-1"},[t._v(t._s(e.username))])]),t._v(" "),s("small",[t._v(t._s(e.about))])])}))]),t._v(" "),s("div",{staticClass:"col-md-3"},[null!==t.selected_user?s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h4",{staticClass:"card-title"},[t._v("Edit User")]),t._v(" "),s("form",{on:{submit:function(e){e.preventDefault(),t.edit_user()}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.alerts.edit.success,expression:"alerts.edit.success"}],staticClass:"alert alert-success text-center"},[s("i",{staticClass:"far fa-thumbs-up"})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.alerts.edit.error,expression:"alerts.edit.error"}],staticClass:"alert alert-danger text-center"},[t._v("Error updating user.")]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selected_user.username,expression:"selected_user.username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.selected_user.username},on:{input:function(e){e.target.composing||t.$set(t.selected_user,"username",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selected_user.email,expression:"selected_user.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Email"},domProps:{value:t.selected_user.email},on:{input:function(e){e.target.composing||t.$set(t.selected_user,"email",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selected_user.password,expression:"selected_user.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.selected_user.password},on:{input:function(e){e.target.composing||t.$set(t.selected_user,"password",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v("Edit")]),t._v(" "),s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.delete_user()}}},[t._v("Delete")])])])])]):t._e(),t._v(" "),s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h4",{staticClass:"card-title"},[t._v("New User")]),t._v(" "),s("form",{on:{submit:function(e){e.preventDefault(),t.create_user()}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.alerts.new.success,expression:"alerts.new.success"}],staticClass:"alert alert-success text-center"},[s("i",{staticClass:"far fa-thumbs-up"})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.alerts.new.error,expression:"alerts.new.error"}],staticClass:"alert alert-danger text-center"},[t._v("Error creating user.")]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.new_user.username,expression:"new_user.username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.new_user.username},on:{input:function(e){e.target.composing||t.$set(t.new_user,"username",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.new_user.email,expression:"new_user.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Email"},domProps:{value:t.new_user.email},on:{input:function(e){e.target.composing||t.$set(t.new_user,"email",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.new_user.password,expression:"new_user.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.new_user.password},on:{input:function(e){e.target.composing||t.$set(t.new_user,"password",e.target.value)}}})]),t._v(" "),t._m(1)])])])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-header"},[e("h1",[this._v("Users")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("Create")])])}]},ot=s("VU/8")(nt,rt,!1,null,null,null).exports,lt={name:"TagsList",components:{Navigation:k},created:function(){this.getTags()},data:function(){return{tags:[],selected_tag:null,selected_index:null,new_tag:{username:null,password:null,email:null},alerts:{edit:{success:!1,error:!1},new:{success:!1,error:!1}}}},methods:{getTags:function(){var t=this;this.axios.get(this.api+"/tags").then(function(e){t.tags=e.data}).catch(function(t){console.log(t)})},selectTag:function(t){this.selected_tag=this.tags[t],this.selected_index=t},create_tag:function(){var t=this;this.alerts.new.success=!1,this.alerts.new.error=!1,this.axios.post(this.api+"/tags",this.new_tag).then(function(e){0==e.data.error?(t.alerts.new.success=!0,t.tags.push(e.data.tag)):t.alerts.new.error=!0}).catch(function(t){console.log(t)})},edit_tag:function(){var t=this;this.alerts.edit.success=!1,this.alerts.edit.error=!1,this.axios.put(this.api+"/tags/"+this.selected_tag._id,{title:this.selected_tag.title,content:this.selected_tag.content}).then(function(e){0==e.data.error?(t.alerts.edit.success=!0,t.tags[t.selected_index].title=t.selected_tag.title,t.tags[t.selected_index].content=t.selected_tag.content):t.alerts.edit.error=!0}).catch(function(t){console.log(t)})},delete_tag:function(){var t=this;this.axios.post(this.api+"/tags/delete/"+this.selected_tag._id).then(function(e){0==e.data.error&&(t.tags.splice(t.selected_index,1),t.selected_tag=null,t.selected_index=null)}).catch(function(t){console.log(t)})}}},ct={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row no-gutters wrapper"},[s("Navigation"),t._v(" "),s("div",{staticClass:"col-md-10 main-content"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-9"},[t._m(0),t._v(" "),s("div",{staticClass:"list-group list-group-flush"},t._l(t.tags,function(e,a){return s("a",{staticClass:"list-group-item",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.selectTag(a)}}},[s("div",{staticClass:"justify-content-between"},[s("h5",{staticClass:"mb-1"},[t._v(t._s(e.title))])]),t._v(" "),s("small",[t._v(t._s(e.content))])])}))]),t._v(" "),s("div",{staticClass:"col-md-3"},[null!==t.selected_tag?s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h4",{staticClass:"card-title"},[t._v("Edit Tag")]),t._v(" "),s("form",{on:{submit:function(e){e.preventDefault(),t.edit_tag()}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.alerts.edit.success,expression:"alerts.edit.success"}],staticClass:"alert alert-success text-center"},[s("i",{staticClass:"far fa-thumbs-up"})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.alerts.edit.error,expression:"alerts.edit.error"}],staticClass:"alert alert-danger text-center"},[t._v("Error updating user.")]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selected_tag.title,expression:"selected_tag.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Title"},domProps:{value:t.selected_tag.title},on:{input:function(e){e.target.composing||t.$set(t.selected_tag,"title",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.selected_tag.content,expression:"selected_tag.content"}],staticClass:"form-control",attrs:{placeholder:"Description"},domProps:{value:t.selected_tag.content},on:{input:function(e){e.target.composing||t.$set(t.selected_tag,"content",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v("Edit")]),t._v(" "),s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.delete_tag()}}},[t._v("Delete")])])])])]):t._e(),t._v(" "),s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h4",{staticClass:"card-title"},[t._v("New Tag")]),t._v(" "),s("form",{on:{submit:function(e){e.preventDefault(),t.create_tag()}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.alerts.new.success,expression:"alerts.new.success"}],staticClass:"alert alert-success text-center"},[s("i",{staticClass:"far fa-thumbs-up"})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.alerts.new.error,expression:"alerts.new.error"}],staticClass:"alert alert-danger text-center"},[t._v("Error creating user.")]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.new_tag.title,expression:"new_tag.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Title"},domProps:{value:t.new_tag.title},on:{input:function(e){e.target.composing||t.$set(t.new_tag,"title",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.new_tag.content,expression:"new_tag.content"}],staticClass:"form-control",attrs:{placeholder:"Description"},domProps:{value:t.new_tag.content},on:{input:function(e){e.target.composing||t.$set(t.new_tag,"content",e.target.value)}}})]),t._v(" "),t._m(1)])])])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-header"},[e("h1",[this._v("Tags")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("Create")])])}]},dt=s("VU/8")(lt,ct,!1,null,null,null).exports,ut={name:"ImagesList",components:{Navigation:k},created:function(){this.getImages()},data:function(){return{images:[],alerts:{new:{success:!1,error:!1}},attachments:[],data:new FormData}},methods:{getImages:function(){var t=this;this.axios.get(this.api+"/images").then(function(e){t.images=e.data}).catch(function(t){console.log(t)})},delete_image:function(t){var e=this;this.axios.post(this.api+"/images/delete/"+this.images[t]._id).then(function(s){e.images.splice(t,1)}).catch(function(t){console.log(t)})},getAttachmentSize:function(){var t=this;this.upload_size=0,this.attachments.map(function(e){t.upload_size+=parseInt(e.size)}),this.upload_size=Number(this.upload_size.toFixed(1)),this.$forceUpdate()},uploadFieldChange:function(t){var e=t.target.files||t.dataTransfer.files;if(e.length)for(var s=e.length-1;s>=0;s--)this.attachments.push(e[s])},prepareFields:function(){if(this.attachments.length>0)for(var t=0;t<this.attachments.length;t++){var e=this.attachments[t];this.data.append("file",e)}},upload:function(){var t=this;this.prepareFields();var e={headers:{"Content-Type":"multipart/form-data",session_id:this.$store.state.currentUser.session_id,session_token:this.$store.state.currentUser.session_token}};this.axios.post(this.api+"/images",this.data,e).then(function(e){t.alerts.new.success=!1,t.alerts.new.error=!1,0==e.data.error?(t.images.push(e.data.image),t.alerts.new.success=!0):t.alerts.new.error=!0,t.resetData()}).catch(function(t){console.log(t)})},resetData:function(){this.data=new FormData,this.attachments=[],document.getElementById("attachments").value=[]}}},mt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row no-gutters wrapper"},[s("Navigation"),t._v(" "),s("div",{staticClass:"col-md-10 main-content"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-9"},[t._m(0),t._v(" "),s("table",{staticClass:"table table-hover"},[t._m(1),t._v(" "),s("tbody",t._l(t.images,function(e,a){return s("tr",{key:e._id},[s("td",[s("img",{staticClass:"img-fluid",attrs:{src:"/uploads/images/"+e.file_name,alt:e.file_name}})]),t._v(" "),s("td",[t._v(t._s(e.title))]),t._v(" "),s("td",[t._v("http://localhost:8081/"+t._s(e.file_name))]),t._v(" "),s("td",[t._v(t._s(e.created_by.username))]),t._v(" "),s("td",[s("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.delete_image(a)}}},[s("i",{staticClass:"far fa-trash-alt"})])])])}))])]),t._v(" "),s("div",{staticClass:"col-md-3"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h4",{staticClass:"card-title"},[t._v("Upload")]),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.alerts.new.success,expression:"alerts.new.success"}],staticClass:"alert alert-success text-center"},[s("i",{staticClass:"far fa-thumbs-up"})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.alerts.new.error,expression:"alerts.new.error"}],staticClass:"alert alert-danger text-center"},[t._v("Error uploading image.")]),t._v(" "),s("input",{staticClass:"form-control",attrs:{type:"file",id:"attachments"},on:{change:t.uploadFieldChange}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.upload()}}},[t._v("Submit")])])])])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-header"},[e("h1",[this._v("Images")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{width:"20%"}},[t._v("Preview")]),t._v(" "),s("th",[t._v("Name")]),t._v(" "),s("th",[t._v("URL")]),t._v(" "),s("th",[t._v("By")]),t._v(" "),s("th",[t._v("Options")])])}]},vt=s("VU/8")(ut,mt,!1,null,null,null).exports;a.a.use(h.a);var gt=new h.a({routes:[{path:"/",name:"Index",component:x,meta:{notLogged:!0}},{path:"/about",name:"About",component:P,meta:{isLogged:!0}},{path:"/posts",name:"Posts",component:U,meta:{isLogged:!0}},{path:"/new/post",name:"NewPost",component:q,meta:{isLogged:!0}},{path:"/edit/post/:id",name:"EditPost",component:X,meta:{isLogged:!0}},{path:"/users",name:"Users",component:ot,meta:{isLogged:!0}},{path:"/tags",name:"Tags",component:dt,meta:{isLogged:!0}},{path:"/images",name:"Images",component:vt,meta:{isLogged:!0}},{path:"/pages",name:"Pages",component:Q,meta:{isLogged:!0}},{path:"/new/page",name:"NewPage",component:et,meta:{isLogged:!0}},{path:"/edit/page/:id",name:"EditPage",component:it,meta:{isLogged:!0}}]}),pt=gt;gt.beforeEach(function(t,e,s){if(f.commit("clearSelectedImage"),t.meta.isLogged)JSON.parse(localStorage.getItem("user"))?s():s({name:"Index"});else if(t.meta.notLogged){JSON.parse(localStorage.getItem("user"))?s({name:"Posts"}):s()}}),console.log("%carabesque 2018.4.6%cfor ribbon","color: #f5f7fa;background-color:#6a50a7;padding:3px;border-top-left-radius:4px;border-bottom-left-radius:4px;","color:#f5f7fa;background-color:#323133;padding:3px;border-top-right-radius:4px;border-bottom-right-radius:4px;"),a.a.config.productionTip=!1,a.a.use(n.a),a.a.use(u.a,c.a),a.a.use(v.a),a.a.filter("formatDate",function(t){if(t)return o()(String(t)).format("MMM Do, YYYY")});var ht=JSON.parse(localStorage.getItem("user"));ht&&(a.a.axios.defaults.headers.common.session_id=ht.session_id,a.a.axios.defaults.headers.common.session_token=ht.session_token),a.a.mixin({data:function(){return{get api(){return"/api"}}}}),new a.a({el:"#app",store:f,router:pt,render:function(t){return t(p)}})},jwHL:function(t,e){},uslO:function(t,e,s){var a={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function i(t){return s(n(t))}function n(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}i.keys=function(){return Object.keys(a)},i.resolve=n,t.exports=i,i.id="uslO"},yVrO:function(t,e){},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.64a789a4b9fd9535fef4.js.map